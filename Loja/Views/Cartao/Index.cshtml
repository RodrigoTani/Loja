@model IEnumerable<Loja.Models.Cartao>

@{
    ViewBag.Title = "Listagem Cartões";
}

<h2>Listagem Cartões</h2>

<p>
    @Html.ActionLink("Adicionar Novo", "Create")
</p>
<table class="table">
    <tr>
        <th>@Html.DisplayNameFor(model => model.NomeCartao)</th>
        <th>@Html.DisplayNameFor(model => model.NumeroCartao)</th>
        <th>@Html.DisplayNameFor(model => model.DataExpira)</th>
        <th>@Html.DisplayNameFor(model => model.CVV)</th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    if (User.Identity.Name == item.Usuario)
    {
    <tr>        
        <td>@Html.DisplayFor(modelItem => item.NomeCartao)</td>
        <td>@Html.DisplayFor(modelItem => item.NumeroCartao)</td>
        <td>@Html.DisplayFor(modelItem => item.DataExpira)</td>
        <td>@Html.DisplayFor(modelItem => item.CVV)</td>
        <td>@Html.ActionLink("Editar", "Edit", null, new { id = item.Id }, new { @class = "btn btn-primary" })</td>
        <td>@Html.ActionLink("Detalhes", "Details", null, new { id = item.Id }, new { @class = "btn btn-default" })</td>
        <td>@Html.ActionLink("Deletar", "Delete", null, new { id = item.Id }, new { @class = "btn btn-danger" })</td>
    </tr>
            }
        }

</table>
